<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800&display=swap&subset=cyrillic" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Raleway:400,800&display=swap" rel="stylesheet">
    <link rel="canonical" href="https://yurka1605.github.io/block/index.html"/>
    <title>Block</title>
</head>
<body>
    <main>
        <header>
            <div class="header custom-container">
                <div class="logo">
                    <a href="#">&laquo;ЭКРУАЛ&raquo;</a>
                    <div class="logo__text">
                        <span class="logo__text_head"></span>
                        <span class="logo__text_body">юридическая<br>коллегия</span>
                        <a class="logo__text_link" href="#"><p>Перейти на основной сайт</p><span>Основной сайт&nbsp;<img src="img/modal/arrow-link.png" alt="arrow"></span> <img src="img/arrow-link.png" alt="arrow"></a>
                    </div>
                </div>
                <div class="phone">
                    8 (812) 748-23-61
                </div>
                <a class="phone-mobile" href="tel:88127482361">
                    <img src="img/phone.png" alt="phone">
                </a>
            </div>
        </header>
        <div class="main-section">
            <div class="communication custom-container">
                <div class="buyout">
                    <div class="buyout__head custom-container">
                        <p><span>Выкуп</span> вашей <a class="buyout__head_link-blue" href="#">недвижимости</a></p>
                        <p><span>за 2 часа</span> с любыми <a class="buyout__head_link-black" href="#">проблемами</a></p>
                        <p><span>до 100%</span> от рыночной стоимости</p>
                    </div>
                    <div class="buyout__price custom-container">
                        <div class="buyout__price_scope">
                            <span>до 1 000 000 руб.</span> 
                            аванс наличными на руки  
                        </div>
                    </div>
                    <div class="kwis custom-container">
                        <div class="kwis__title">
                            Ответьте на 5 вопросов и узнайте, как продать Вашу недвижимость выше рынка - получите чек-лист:
                        </div>
                        <div class="kwis__cards">
                            <div class="kwis__card">
                                <div class="kwis__card_marker"></div>
                                <div class="kwis__card_text">Как продать<br>недвижимость срочно</div>
                            </div>
                            <div class="kwis__card">
                                <div class="kwis__card_marker"></div>
                                <div class="kwis__card_text">По 10% от рыночной цены<br>с защитой от рисков</div>
                            </div>
                            <div class="kwis__card">
                                <div class="kwis__card_marker"></div>
                                <div class="kwis__card_text">Получить оценку<br>объекта недвижимости</div>
                                <div class="kwis__card_free">БЕСПЛАТНО</div>
                            </div>
                        </div>
                        <div class="kwiss__buttons">
                            <button class="kwis__button">
                                <img class="kwis__button_img" src="img/gift.png" alt="gift">
                                <img class="kwis__button_img" src="img/modal/gift.png" alt="gift">
                                <span class="kwis__button_text">
                                    Получить 1 млн. рублей аванс
                                    <!-- <span class="kwis__button_subtext">и получить чек-лист</span> -->
                                </span>
                                <img class="affter-effect" src="img/button-effect.png" alt="effect">
                            </button>
                            <img class="kwis__arrow" src="img/recycle.png" alt="kwis-recycle">
                        </div>
                    </div>
                    <!-- <div class="buyout__form custom-container">
                        <form action="#" method="post">
                            <div class="buyout__form-enter">
                                <input type="tel" name="tel" id="tel1" maxlength="18" placeholder="+7 (930) 128-00-48" pattern="\+7\s?[\(]{0,1}9[0-9]{2}[\)]{0,1}\s?\d{3}[-]{0,1}\d{2}[-]{0,1}\d{2}" required>
                                <button type="submit">Хочу <span>получить</span>деньги сегодня<img class="affter-effect" src="img/button-effect.png" alt="effect"></button>
                            </div>
                            <div class="buyout__form_checkbox">
                                <input required type="checkbox" name="check" id="check">
                                <label for="check">Я согласен с политикой конфиденциальностии даю согласие на обработку моих&nbsp;<a href="#">персональных данных</a></label>
                            </div>
                        </form>
                    </div> -->
                </div>
                <div class="watch-video custom-container">
                    <div class="watch-video__clip">
                        <div class="watch-video__play">
                            <a class="watch-video__play-link" href="#">
                                <span class="watch-video__play-triangle"></span>
                            </a>
                            <div class="watch-video__play-label">
                                <p>Узнайте за 2 минуты,</p>
                                как мы выкупаем квартиру<br>
                                до 100% от стоимости
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="appraiser">
                <div class="appraiser__cards custom-container">
                    <div class="appraiser__cards_card">
                        <picture>
                            <source type="image/webp" srcset="img/box.webp">
                            <img src="img/box.png" alt="box">
                        </picture>
                        <div>
                            Специальная акция<br>
                            <span>переезд бесплатно</span>
                        </div>
                    </div>
                    <div class="appraiser__cards_card">
                        <picture>
                            <source type="image/webp" srcset="img/box1.webp">
                            <img src="img/box1.png" alt="box" style="margin-right: 15px">
                        </picture>
                        <div>
                            Нотариуса, юристов, форму расчета<br>
                            <span>выбираете вы сами</span>
                        </div>
                    </div>
                </div>
                <div class="buyout__form1 custom-container">
                    <form action="#" method="post">
                        <div class="buyout__form-enter1">
                            <input type="tel" name="tel" id="tel2" maxlength="16" placeholder="" pattern="\s?[\(]{0,1}9[0-9]{2}[\)]{0,1}\s?\d{3}[-]{0,1}\d{2}[-]{0,1}\d{2}" required>
                            <button type="submit">Хочу получить<br><span>деньги сегодня</span><img class="affter-effect" src="img/button-effect.png" alt="effect"></button>
                        </div>
                        <div class="buyout__form_checkbox1">
                            <input required type="checkbox" name="check1" id="check1">
                            <label for="check1">Я согласен с политикой конфиденциальностии даю согласие на обработку моих&nbsp;<a href="#">персональных данных</a></label>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </main>
    <section class="scales custom-container">
        <picture>
            <source type="image/webp" srcset="img/scales.webp">
            <img class="scales__img" src="img/scales.png" alt="scales">
        </picture>
        <picture>
            <source type="image/webp" srcset="img/modal/FLYER.webp">
            <img class="scales__img" src="img/modal/FLYER.png" alt="scales">
        </picture>
        <div class="scales__text">
            <div class="scales__text_top">
                ответьте на 6 вопросов и 
            </div>
            <div class="scales__text_middle">
                получите<br>сравнительную таблицу
            </div>
            <div class="scales__text_bottom">
                по всем агенствам СПБ и ЛО<br>
                о сумме выкупа вашей недвижимости
                <picture>
                    <source type="image/webp" srcset="img/recycle.webp">
                    <img class="scales__recycle" src="img/recycle.png" alt="scales">
                </picture>
            </div>
            <div class="scales__text_buttons">
                <button>
                    <span>Получить лучшие условия</span>
                    <span>Ответить на вопросы</span>
                    <img class="affter-effect" src="img/button-effect.png" alt="effect">
                </button>
                <div>
                    Со всеми скрытыми коммиссиями,<br>
                    которые не доступных на их сайтах
                </div>
            </div>
        </div>
    </section>
    <div class="modal-backgroup"></div>
    <div class="modal-wrap">
        <div class="modal-window">
            <div class="modal-close">×</div>
            <div class="modal-body">
                <div class="modal-body__home">
                    <div class="modal-body__home_group">
                        <a href="#" target="_blank">
                            <span>Доли<br>
                                в праве<br>
                                на квартиру</span>
                            <picture>
                                <source type="image/webp" srcset="img/modal/home.webp">
                                <img src="img/modal/home.png" alt="home">
                            </picture>
                        </a>
                        <a href="#" target="_blank">
                            <span>Переуступка<br>
                                по ДДУ</span>
                            <picture>
                                <source type="image/webp" srcset="img/modal/new.webp">
                                <img src="img/modal/new.png" alt="new">
                            </picture>
                        </a>
                        <a href="#" target="_blank">
                            <span>Квартиры</span>
                            <picture>
                                <source type="image/webp" srcset="img/modal/commerc.webp">
                                <img src="img/modal/commerc.png" alt="commerc">
                            </picture>
                        </a>
                        <a href="#" target="_blank">
                            <span>Дома</span>
                            <picture>
                                <source type="image/webp" srcset="img/modal/garaji.webp">
                                <img src="img/modal/garaji.png" alt="garaji">
                            </picture>
                        </a>
                    </div>
                    <div class="modal-body__home_group">
                        <a href="#" target="_blank">
                            <span>Загородная</span>
                            <picture>
                                <source type="image/webp" srcset="img/modal/cityout.webp">
                                <img src="img/modal/cityout.png" alt="cityout">
                            </picture>
                        </a>
                        <a href="#" target="_blank">
                            <span>Земельные участки</span>
                            <picture>
                                <source type="image/webp" srcset="img/modal/erth.webp">
                                <img src="img/modal/erth.png" alt="erth">
                            </picture>
                        </a>
                        <a href="#" target="_blank">
                            <span>Нежилые помещения</span>
                            <picture>
                                <source type="image/webp" srcset="img/modal/arenda.webp">
                                <img src="img/modal/arenda.png" alt="arenda">
                            </picture>
                        </a>
                        <a href="#" target="_blank">
                            <span>Бизнес</span>
                            <picture>
                                <source type="image/webp" srcset="img/modal/elit.webp">
                                <img src="img/modal/elit.png" alt="elit">
                            </picture>
                        </a>
                    </div>
                </div>
                <div class="modal-body__problem">
                    <div class="modal-body__problem_links">
                        <a href="#" target="_blank">Долги по ЖКХ,<br>
                                которые нечем платить</a>
                        <a href="#" target="_blank">С отказом органа оперки<br>и попечительства</a>
                    </div>
                    <div class="modal-body__problem_links">
                        <a href="#" target="_blank">Арест недвижимости<br>
                        по гражданскому<br>
                        или уголовному делу</a>
                        <a href="#" target="_blank">
                        С правом проживания третьих<br>
                        лиц, полученном в процессеM<br>
                        отказа от приватизации</a>
                    </div>
                    <div class="modal-body__problem_links">
                        <a href="#" target="_blank">
                        Объект недвижимости в залоге<br>
                        (ипотека) у банка, компании<br>
                        или частного кредитора</a>
                        <a href="#" target="_blank">
                        С проживающими<br>
                        совершеннолетними,<br>
                        недееспособными</a>
                    </div>
                    <div class="modal-body__problem_links">
                        <a href="#" target="_blank">
                        При спорах по разделу имущества<br>
                        и отсутствию согласия супруга</a>
                        <a href="#" target="_blank">Объект фигурирует<br>в судебном споре</a>
                    </div>
                    <div class="modal-body__problem_links">
                        <a href="#" target="_blank">У вас незаконно<br>отняли объект</a>
                        <a href="#" target="_blank">При проигранном суде<br>по объекту недвижимости</a>
                    </div>
                    <div class="modal-body__problem_links">
                        <a href="#" target="_blank">Нет согласия содольщика<br>
                        на продажу доли в объекте<br>
                        недвижимости</a>
                    </div>
                </div>
                <div class="modal-body__form">
                    <div class="modal__form">
                        <h3>
                            Часто, телефоны случайно оставляют клиенты,
                            не заинтересованные в юридической консультации
                        </h3>
                        <br>
                        <p>
                            Введите свой е-мэил, в целях подтверждение, вашего желания получить бесплатную
                            консультацию от профильного юриста по вашему вопросу
                        </p>
                        <br>
                        <form action="#" method="post">
                            <div class="modal__form-enter">
                                <input type="email" name="email" id="email" placeholder="example@email.com" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2, 3}$" required>
                                <button type="submit">Подтвердить<img class="affter-effect" src="img/button-effect.png" alt="effect"></button>
                            </div>
                            <div class="modal__form_checkbox">
                                <input required type="checkbox" id="modalCheck">
                                <label for="modalCheck">Я согласен с политикой конфиденциальностии даю согласие на обработку моих&nbsp;<a href="#">персональных данных</a></label>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="modal-body__thanks">
                    <div class="modal-body__thanks_checkbox">&#10004;</div>
                    <div class="modal-body__thanks_text">
                        <h3>Спасибо за заявку!</h3>
                        <p>В ближайшее время наш специалист свяжется с вами.</p>
                    </div>
                </div>
                <div class="modal-body__video"></div>
            </div>
        </div>
    </div>
    <script>
    window.onload = function() {
        const urlVideo = 'https://www.youtube.com/embed/nRhWUhDeYWY';

        const linkBlack = document.querySelector('.buyout__head_link-black');
        const linkBlue = document.querySelector('.buyout__head_link-blue');
        const videoShowButton = document.querySelector('.watch-video__play-link ');
        // const form1 = document.querySelector('.buyout__form-enter button');
        const form2 = document.querySelector('.buyout__form-enter1 button');
        const formModal = document.querySelector('.modal__form-enter button');

        const modalBackgroup = document.querySelector('.modal-backgroup');
        const modalWrap = document.querySelector('.modal-wrap');
        const modalWindow = document.querySelector('.modal-window');
        const modalClose = document.querySelector('.modal-close');
        const modalBodyHome = document.querySelector('.modal-body__home');
        const modalBodyProblem = document.querySelector('.modal-body__problem');
        const modalBodyForm = document.querySelector('.modal-body__form');
        const modalThanks = document.querySelector('.modal-body__thanks');
        const modalVideo = document.querySelector('.modal-body__video');
        // const tel1 = document.querySelector('#tel1');
        const tel2 = document.querySelector('#tel2');
        const email = document.querySelector('#email');
        const check1 = document.querySelector('#check');
        const check2 = document.querySelector('#check1');
        const check3 = document.querySelector('#modalCheck');
        const bodys = document.querySelector('body');

        formModal.addEventListener('click', function () {
            if (!validMail(email) || !check3.checked) return;
            openModal(event);
            modalThanks.classList.add('active');
            modalBodyForm.classList.remove('active');
            email.value = '';
            check3.checked = false;
        });

        // tel1.addEventListener('input', function () {
        //     setTimeout(() => {
        //         this.value = validReackTel(this.value);
        //     }, 200);
        // });

        tel2.addEventListener('input', function () {
            setTimeout(() => {
                this.value = validReackTel(this.value);
            }, 200);
        });

        function validReackTel(currentValue) {
            currentValue = currentValue.trim();
            const re = /[A-Za-zА-Яа-я]/g;
            const validVal = currentValue.replace(re, "");
            return validVal;
        }

        // form1.addEventListener('click', function () {
        //     const re = /\+7\s?[\(]{0,1}9[0-9]{2}[\)]{0,1}\s?\d{3}[-]{0,1}\d{2}[-]{0,1}\d{2}/;
        //     if (!validPhone(tel1, re) || !check1.checked) return;
        //     openModal(event);
        //     modalBodyForm.classList.add('active');
        //     check1.checked = false;
        //     tel1.value = ''; 
        // });

        form2.addEventListener('click', function () {
            const re = /\s?[\(]{0,1}9[0-9]{2}[\)]{0,1}\s?\d{3}[-]{0,1}\d{2}[-]{0,1}\d{2}/;
            if (!validPhone(tel2, re) || !check2.checked) return;
            openModal(event);
            modalBodyForm.classList.add('active');
            check2.checked = false;
            tel2.value = ''; 
        });

        linkBlack.addEventListener('click', function () {
            openModal(event);
            modalWindow.classList.add('link');
            modalBodyProblem.classList.add('active');
        });

        linkBlue.addEventListener('click', function () {
            openModal(event);
            modalWindow.classList.add('link');
            modalBodyHome.classList.add('active');
        });

        videoShowButton.addEventListener('click', function () {
            openModal(event);
            modalVideo.innerHTML = '<iframe ' +
            'frameborder="0" allow="accelerometer; autoplay; ' +
            'encrypted-media; gyroscope; picture-in-picture"' +
            'allowfullscreen></iframe>';
            modalVideo.children[0].src = urlVideo;
            modalVideo.classList.add('active');
            modalWindow.classList.add('p-0');
        });

        modalWrap.addEventListener('click', function () {
            event.preventDefault();
            closeAll();
        });

        modalWindow.addEventListener('click', function (e) {
            e.stopPropagation();
        });

        modalClose.addEventListener('click', function () {
            event.preventDefault();
            closeAll();
        });

        function closeAll() {
            modalWindow.classList.remove('link');
            modalBackgroup.classList.remove('active');
            modalWrap.classList.remove('active');
            modalBodyHome.classList.remove('active');
            modalBodyProblem.classList.remove('active');
            modalThanks.classList.remove('active');
            modalBodyForm.classList.remove('active');
            email.value = '';
            bodys.classList.remove('overflow-hidden');
            modalVideo.classList.remove('active');
            modalVideo.innerHTML = '';
            modalWindow.classList.remove('p-0');
        }

        function openModal (event) {
            event.preventDefault();
            modalBackgroup.classList.add('active');
            modalWrap.classList.add('active');
            bodys.classList.add('overflow-hidden');
        }

        function validMail(el) {
            var re = /^[\w-\.]+@[\w-]+\.[a-z]{2,4}$/i;
            var myMail = el.value;
            var valid = re.test(myMail);
            return valid;
        }
        
        function validPhone(el,re) {
            var myPhone = el.value;
            var valid = re.test(myPhone);
            return valid;
        } 
                    
    } 
    </script>
</body>
</html>